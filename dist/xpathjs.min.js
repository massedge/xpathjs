XPathJS=function(){var a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r=[],s="http://www.w3.org/XML/1998/namespace",t="http://www.w3.org/2000/xmlns/",u="http://www.w3.org/1999/xhtml",v=function(a){return a.ownerDocument},w=function(a){var b=[],c=function(a,b){var c,d,e=[];for(d=0;d<a.length;d++)c=a.item(d),!1!==P(c.nodeType,b)&&e.push(c);return e};switch(a.nodeType){case 1:b=c(a.childNodes,supportedChildNodeTypes=[1,3,4,7,8]);break;case 9:b=c(a.childNodes,supportedChildNodeTypes=[1,7,8]);break;case 2:case 3:case 4:case 7:case 8:case 13:break;default:throw new Error("Internal Error: nodeChildren - unsupported node type: "+a.nodeType)}return b},x=function(a){var b,c,d=[];for(b=w(a),c=0;c<b.length;c++)d.push(b[c]),d.push.apply(d,x(b[c]));return d},y=function(a){var b;switch(a.nodeType){case 1:case 3:case 4:case 7:case 8:case 9:return a.parentNode;case 2:return a.ownerElement?a.ownerElement:b=L(a.ownerDocument,!0,function(b,c){return c===a?!0:void 0});case 13:return a.ownerElement;default:throw new Error("Internal Error: nodeParent - node type not supported: "+a.type)}},z=function(a){for(var b,c=[];b=y(a);)c.push(b),a=b;return c},A=function(a){return C(a,"nextSibling")},B=function(a){return C(a,"previousSibling")},C=function(a,b){for(var c,d=[];c=a[b];){switch(c.nodeType){case 1:case 3:case 4:case 7:case 8:case 9:d.push(c)}a=c}return d},D=function(a){var b,c,d,e,f=[];for(b=z(a),b.unshift(a),c=0;c<b.length;c++)for(d=A(b[c]),e=0;e<d.length;e++)f.push(d[e]),f.push.apply(f,x(d[e]));return f},E=function(a){var b,c,d,e,f=[];for(b=z(a),b.unshift(a),c=0;c<b.length;c++)for(d=B(b[c]),e=0;e<d.length;e++)f.push.apply(f,x(d[e]).reverse()),f.push(d[e]);return f},v=function(a){switch(a.nodeType){case 9:return a;default:return a.ownerDocument}},F=function(a){var b,c=[];if(1===a.nodeType)for(b=0;b<a.attributes.length;b++)a.attributes[b].specified&&c.push(a.attributes[b]);return c.length>1&&c[0].compareDocumentPosition&&c.sort(function(a,b){var c=a.compareDocumentPosition(b);return 2==(2&c)?1:4==(4&c)?-1:0}),c},G=function(a){var b,c=F(a),d=[];for(b=0;b<c.length;b++)!1===J(c[b])&&d.push(c[b]);return d},H=function(a,b){var c,d,e,f,g=b||[];if(1===a.nodeType){if(a.ownerDocument.documentElement===a&&"object"==typeof a.ownerDocument.namespaces)for(d=a.ownerDocument.namespaces.length-1;d>=0;d--)f=a.ownerDocument.namespaces.item(d),I.call(this,g,f.name,f.urn,a);for(c=F(a),d=c.length-1;d>=0;d--)!1!==(e=J(c[d]))&&(1!==e.length?I.call(this,g,e[1],c[d].nodeValue,a):I.call(this,g,"",c[d].nodeValue,a));if(H.call(this,a.parentNode,g),void 0===b&&(I.call(this,g,"xml",s,a),g[0]&&""===g[0].prefix&&""===g[0].namespaceURI&&g.shift()),void 0===b)for(d=0;d<g.length;d++)g[d].ownerElement!==a&&(g[d]=V(g[d].prefix,g[d].nodeValue,a))}return g},I=function(a,b,c,d){var e,f;for(this.opts["case-sensitive"]||(b=b.toLowerCase()),e=0;e<a.length;e++)if(a[e].prefix===b)return!1;return f=V(b,c,d),""===b&&null!==c?a.unshift(f):a.push(f),!0},J=function(a){var b=a.nodeName.split(":");return"xmlns"===b[0]?b:!1},K=function(a,b){var c,d,e,f,g,h;if(1===a.nodeType)for(e=b?[b]:G(a),f=H.call(this,a),c=0;c<e.length;c++){for(h=e[c].nodeName.split(":"),1===h.length&&(h[1]=h[0],h[0]=""),g=null,d=0;d<f.length;d++)if(f[d].prefix===h[0]){g=f[d].namespaceURI;break}if(null===g&&(g=""),this.opts["unique-ids"][g]===h[1])return e[c]}return null},L=function(a,b,c){var d,e,f,g,h=[];for(f=a.getElementsByTagName("*"),d=0;d<f.length;d++)if(g=f.item(d),1==g.nodeType)for(e=0;e<g.attributes.length;e++)if(g.attributes[e].specified&&c(g,g.attributes[e])===!0){if(b)return g;h.push(g);break}return b?null:h},M=function(a){var b,c,d,e;switch(a.nodeType){case 1:for("undefined"==typeof a.scopeName||document.addEventListener?(b=a.nodeName.split(":"),e=1==b.length?{prefix:"",name:b[0]}:{prefix:b[0],name:b[1]}):e={prefix:"HTML"==a.scopeName?"":a.scopeName,name:a.nodeName},this.opts["case-sensitive"]||(e.prefix=e.prefix.toLowerCase(),e.name=e.name.toLowerCase()),c=H.call(this,a),d=0;d<c.length;d++)if(c[d].prefix===e.prefix)return e.ns=c[d].namespaceURI,e;if(""===e.prefix)return e.ns=null,e;throw new Error('Internal Error: nodeExpandedName - Failed to expand namespace prefix "'+e.prefix+'" on element: '+a.nodeName);case 2:if(b=a.nodeName.split(":"),1==b.length)return{prefix:"",ns:null,name:b[0]};for(e={prefix:b[0],name:b[1]},this.opts["case-sensitive"]||(e.prefix=e.prefix.toLowerCase(),e.name=e.name.toLowerCase()),c=H.call(this,y(a)),d=0;d<c.length;d++)if(c[d].prefix===e.prefix)return e.ns=c[d].namespaceURI,e;throw new Error('Internal Error: nodeExpandedName - Failed to expand namespace prefix "'+e.prefix+'" on attribute: '+a.nodeName);case 13:return{prefix:null,ns:null,name:this.opts["case-sensitive"]?a.prefix.toLowerCase():a.prefix};case 7:return{prefix:null,ns:null,name:this.opts["case-sensitive"]?a.target.toLowerCase():a.target};default:return!1}},N=function(a){var b,c,d="";switch(a.nodeType){case 9:case 1:for(c=h(new k(a,1,1,{},{},{}),{type:"step",args:["descendant",{type:"nodeType",args:["text",[]]}]}),c.sortDocumentOrder(),b=0;b<c.value.length;b++)d+=c.value[b].data;return d;case 2:return a.nodeValue;case 13:return a.namespaceURI;case 7:case 8:case 3:case 4:return a.data;default:throw new Error("Internal Error: nodeStringValue does not support node type: "+a.nodeType)}},O=function(a,b,c){var d=new Error(c);return d.name=b,d.code=a,d},P=function(a,b){for(var c=b.length;c--;)if(b[c]===a)return c;return!1},Q=function(a,b,c,d){var e,f,g,h,i;if(a instanceof p)if(b instanceof p){for(h=b.stringValues(),g=a.stringValues(),e=0;e<g.length;e++)for(f=0;f<h.length;f++)if(i=Q(g[e],h[f],c,d),i.toBoolean())return i}else if(b instanceof o){for(g=a.stringValues(),e=0;e<g.length;e++)if(i=Q(new o(g[e].toNumber()),b,c,d),i.toBoolean())return i}else{if(!(b instanceof n))return Q(new m(a.toBoolean()),b,c,d);for(g=a.stringValues(),e=0;e<g.length;e++)if(i=Q(g[e],b,c,d),i.toBoolean())return i}else if(b instanceof p)if(a instanceof o){for(h=b.stringValues(),e=0;e<h.length;e++)if(i=Q(a,new o(h[e].toNumber()),c,d),i.toBoolean())return i}else{if(!(a instanceof n))return Q(a,new m(b.toBoolean()),c,d);for(h=b.stringValues(),e=0;e<h.length;e++)if(i=Q(a,h[e],c,d),i.toBoolean())return i}else switch(c){case"=":case"!=":return new m(a instanceof m||b instanceof m?d(a.toBoolean(),b.toBoolean()):a instanceof o||b instanceof o?d(a.toNumber(),b.toNumber()):d(a.toString(),b.toString()));default:return new m(d(a.toNumber(),b.toNumber()))}return new m(!1)},R=function(a){switch(a.nodeType){case 2:case 3:case 4:case 7:case 8:return y(a);case 1:case 9:return a;case 13:default:throw new Error("Internal Error: getComparableNode - Node type not supported: "+a.nodeType)}},S=function(a,b){var c,d,e;if(13==a.nodeType&&13==b.nodeType&&a.ownerElement==b.ownerElement){if(a===b)return 0;for(d=H.call(q,a.ownerElement),e=0;e<d.length;e++){if(d[e]===a){c=4;break}if(d[e]===b){c=2;break}}}else 13==a.nodeType&&(a=a.ownerElement),13==b.nodeType&&(b=b.ownerElement),c=T(a,b);return c},T=function(a,b){var c,d,e,f,g,h=function(a,b,c,d,e,f,g,h,i){return 0===e||(e&f)===f?h+f:(e&g)===g?i:e};if(a.compareDocumentPosition)return a.compareDocumentPosition(b);if(a===b)return 0;if(c=R(a),d=R(b),9===c.nodeType)if(9===d.nodeType){if(c!==d)return 1;e=0}else{if(c!==d.ownerDocument)return 1;e=20}else if(9===d.nodeType){if(d!==c.ownerDocument)return 1;e=10}else{if(c.ownerDocument!==d.ownerDocument)return 1;if(!c.contains||"undefined"==typeof c.sourceIndex||!d.contains||"undefined"==typeof d.sourceIndex)throw new Error('Cannot compare elements. Neither "compareDocumentPosition" nor "contains" available.');e=(c!=d&&c.contains(d)&&16)+(c!=d&&d.contains(c)&&8)+(c.sourceIndex>=0&&d.sourceIndex>=0?(c.sourceIndex<d.sourceIndex&&4)+(c.sourceIndex>d.sourceIndex&&2):1)+0}if(a===c&&b===d)return e;if(a===c)return h(a,c,b,d,e,16,8,4,2);if(b===d)return h(b,d,a,c,e,8,16,2,4);if(16===(16&e))return 4;if(8===(8&e))return 2;if(0===e){for(f=0;f<c.attributes.length;f++)if(g=c.attributes[f],g.specified){if(g===b)return 2;if(g===a)return 4}throw new Error("Internal Error: compareDocumentPosition failed to sort attributes.")}return e},U=function(a){if(!a)throw O(9,"NOT_SUPPORTED_ERR","Context node was not supplied.");if(9!=a.nodeType&&1!=a.nodeType&&2!=a.nodeType&&3!=a.nodeType&&4!=a.nodeType&&8!=a.nodeType&&7!=a.nodeType&&13!=a.nodeType)throw O(9,"NOT_SUPPORTED_ERR","The supplied node type is not supported. (nodeType: "+a.nodeType+")");if(2==a.nodeType&&!a.specified)throw O(9,"NOT_SUPPORTED_ERR","The supplied node is a non-specified attribute node. Only specified attribute nodes are supported.")},V=function(a,b,c){var d,e;for(d=0;d<r.length;d++)if(e=r[d],e.prefix===a&&e.nodeValue===b&&e.ownerElement===c)return e;return e=new f(a,b,c),r.push(e),e};return l=function(a,b,c){this.value=a,this.type=b,this.supports=c},l.prototype={value:null,type:null,supports:[],toBoolean:function(){throw new Error('Unable to convert "'+this.type+'" to "boolean".')},toString:function(){throw new Error('Unable to convert "'+this.type+'" to "string".')},toNumber:function(){throw new Error('Unable to convert "'+this.type+'" to "number".')},toNodeSet:function(){throw new Error('Unable to convert "'+this.type+'" to "node-set".')},canConvertTo:function(a){return!1!==P(a,this.supports)}},m=function(a){l.call(this,a,"boolean",["boolean","string","number"])},m.prototype=new l,m.constructor=m,m.prototype.toBoolean=function(){return this.value},m.prototype.toString=function(){return this.value===!0?"true":"false"},m.prototype.toNumber=function(){return this.value?1:0},p=function(a,b){l.call(this,a,"node-set",["boolean","string","number","node-set"]),this.docOrder=b||"unsorted"},p.prototype=new l,p.constructor=p,p.prototype.toBoolean=function(){return this.value.length>0},p.prototype.toString=function(){return this.value.length<1?"":(this.sortDocumentOrder(),N(this.value[0]))},p.prototype.toNumber=function(){return new n(this.toString()).toNumber()},p.prototype.toNodeSet=function(){return this.value},p.prototype.sortDocumentOrder=function(){switch(this.docOrder){case"document-order":break;case"reverse-document-order":this.value.reverse();break;default:this.value.sort(function(a,b){var c=S(a,b);if(4==(4&c))return-1;if(2==(2&c))return 1;throw new Error("NodeSetType.sortDocumentOrder - unexpected compare result: "+c)})}this.docOrder="document-order"},p.prototype.sortReverseDocumentOrder=function(){switch(this.docOrder){case"document-order":this.value.reverse();break;case"reverse-document-order":break;default:this.sortDocumentOrder(),this.value.reverse()}this.docOrder="reverse-document-order"},p.prototype.append=function(a){var b,c=0,d=0;if(!a instanceof p)throw new Error("NodeSetType can be passed into NodeSetType.append method");for(this.sortDocumentOrder(),a.sortDocumentOrder();c<this.value.length&&d<a.value.length;)if(b=S(this.value[c],a.value[d]),0==b)d++;else if(4==(4&b))c++;else{if(2!=(2&b))throw new Error("Internal Error: NodeSetType.append - unable to sort nodes. (result: "+b+")");this.value.splice(c,0,a.value[d]),c++,d++}for(;d<a.value.length;d++)this.value.push(a.value[d]);this.docOrder="document-order"},p.prototype.stringValues=function(){var a,b=[];for(a=0;a<this.value.length;a++)b.push(new n(N(this.value[a])));return b},n=function(a){l.call(this,a,"string",["boolean","string","number"])},n.prototype=new l,n.constructor=n,n.prototype.toBoolean=function(){return this.value.length>0},n.prototype.toString=function(){return this.value},n.prototype.toNumber=function(){var a;return a=this.value.match(/^[ \t\r\n]*(-?[0-9]+(?:[.][0-9]*)?)[ \t\r\n]*$/),null!==a?parseFloat(a[1]):(a=this.value.match(/^[ \t\r\n]*(-?[.][0-9]+)[ \t\r\n]*$/),null!==a?parseFloat(a[1]):Number.NaN)},o=function(a){l.call(this,a,"number",["boolean","string","number"])},o.prototype=new l,o.constructor=o,o.prototype.toBoolean=function(){return 0!==this.value&&!isNaN(this.value)},o.prototype.toString=function(){return this.value.toString()},o.prototype.toNumber=function(){return this.value},a=function(b,c){var d;switch(this.code=b,this.code){case a.INVALID_EXPRESSION_ERR:this.name="INVALID_EXPRESSION_ERR";break;case a.TYPE_ERR:this.name="TYPE_ERR";break;default:throw d=new Error("Unsupported XPathException code: "+this.code),d.name="XPathExceptionInternalError",d}this.message=c||""},a.prototype.toString=function(){return'XPathException: "'+this.message+'", code: "'+this.code+'", name: "'+this.name+'"'},a.INVALID_EXPRESSION_ERR=51,a.TYPE_ERR=52,b=function(a){var b,c,d;for(b in a){d=!1;for(c in this.opts)if(b===c){this.opts[b]=a[b],d=!0;break}if(!d)throw new Error("Unsupported option: "+b)}this.opts["unique-ids"][s]="id",this.opts["unique-ids"][u]="id"},b.prototype={opts:{"unique-ids":{},"case-sensitive":!1},createExpression:function(b,d){var e,f,g,h,i={};try{e=XPathJS._parser.parse(b)}catch(j){throw f="The expression is not a legal expression.",f+=j instanceof XPathJS._parser.SyntaxError?" (line: "+j.line+", character: "+j.column+")":" ("+j.message+")",new a(a.INVALID_EXPRESSION_ERR,f)}if(e.nsPrefixes.length>0){if("object"!=typeof d||"undefined"==typeof d.lookupNamespaceURI)throw new a(a.INVALID_EXPRESSION_ERR,"No namespace resolver provided or lookupNamespaceURI function not supported.");for(g=0;g<e.nsPrefixes.length;g++)if(h=e.nsPrefixes[g],i[h]=d.lookupNamespaceURI(h),null===i[h])throw O(14,"NAMESPACE_ERR",'Undefined namespace prefix "'+h+'" in the context of the given resolver.')}return new c(e,i,this.opts)},createNSResolver:function(a){return new d(a)},evaluate:function(a,b,c,d,e){var a=this.createExpression(a,c);return a.evaluate(b,d,e)}},c=function(a,b,c){this.parsedExpression=a,this.namespaceMapping=b,this.opts=c||{}},c.prototype={parsedExpression:null,namespaceMapping:null,opts:{},evaluate:function(a,b,c){var d;return q=this,U(a),d=new k(a,1,1,{},j,this.namespaceMapping,this.opts),e.factory(d,b,h(d,this.parsedExpression.tree))}},k=function(a,b,c,d,e,f,g){this.node=a,this.pos=b,this.size=c,this.vars=d,this.fns=e,this.nsMap=f,this.opts=g||{}},k.prototype={node:null,pos:null,size:null,vars:null,fns:null,nsMap:null,opts:null,clone:function(a,b,c){return new k(a||this.node,"undefined"!=typeof b?b:this.pos,"undefined"!=typeof c?c:this.size,this.vars,this.fns,this.nsMap,this.opts)}},d=function(a){U(a),this.node=a},d.prototype={node:null,lookupNamespaceURI:function(a){var b,c,d,e=this.node;switch(a){case"xml":return s;case"xmlns":return t;default:switch(this.node.nodeType){case 9:e=e.documentElement;break;case 1:break;default:e=y(e)}if(null!=e&&1==e.nodeType){if(""==a){if(c=e.getAttribute("xmlns"),null!==c)return c}else{if(e.ownerDocument.documentElement===e&&"object"==typeof e.ownerDocument.namespaces)for(b=0;b<e.ownerDocument.namespaces.length;b++)if(c=e.ownerDocument.namespaces.item(b),c.name==a)return c.urn;for(b=0;b<e.attributes.length;b++)if(e.attributes[b].specified&&"xmlns:"+a==e.attributes[b].nodeName)return e.attributes[b].nodeValue}if(e.ownerDocument.documentElement!==e&&e.parentNode)return d=this.node,this.node=e.parentNode,c=this.lookupNamespaceURI(a),this.node=d,c}return null}}},i={"/":function(a,b){var c,d,e,f,g;if(null===a)d=new p([v(this.node)],"document-order");else if(d=h(this,a),!d instanceof p)throw new Error("Left side of path separator (/) must be of node-set type. (type: "+d.type+")");if(null===b)f=d;else for(f=new p([],"document-order"),c=0;c<d.value.length;c++){if(g=this.clone(d.value[c]),e=h(g,b),!e instanceof p)throw new Error("Right side of path separator (/) must be of node-set type. (type: "+e.type+")");f.append(e)}return f},step:function(a,b){var c,d,e,f,g,i,j;switch(a){case"child":c=new p(w(this.node),"document-order");break;case"descendant":c=new p(x(this.node),"document-order");break;case"parent":e=y(this.node),c=new p(e?[e]:[],"document-order");break;case"ancestor":c=new p(z(this.node),"reverse-document-order");break;case"following-sibling":c=new p(A(this.node),"document-order");break;case"preceding-sibling":c=new p(B(this.node),"reverse-document-order");break;case"following":c=new p(D(this.node),"document-order");break;case"preceding":c=new p(E(this.node),"reverse-document-order");break;case"attribute":c=new p(G(this.node),"document-order");break;case"namespace":c=new p(H.call(this,this.node),"document-order");break;case"self":c=new p([this.node],"document-order");break;case"descendant-or-self":f=x(this.node),f.unshift(this.node),c=new p(f,"document-order");break;case"ancestor-or-self":f=z(this.node),f.unshift(this.node),c=new p(f,"reverse-document-order");break;default:throw new Error("Axis type not supported: "+a)}switch(b.type){case"nodeType":if("node"==b.args[0])break;for(d=c.value.length-1;d>=0;d--)switch(b.args[0]){case"text":3!=c.value[d].nodeType&&4!=c.value[d].nodeType&&c.value.splice(d,1);break;case"comment":8!=c.value[d].nodeType&&c.value.splice(d,1);break;case"processing-instruction":(7!=c.value[d].nodeType||b.args[1].length>0&&h(this,b.args[1][0])!=c.value[d].nodeName)&&c.value.splice(d,1)}break;case"name":switch(g=h(this,b),a){case"attribute":i=2;break;case"namespace":i=13;break;default:i=1}for(d=c.value.length-1;d>=0;d--)c.value[d].nodeType==i?null===g.ns&&null===g.name||(j=M.call(this,c.value[d]),j!==!1&&j.ns===g.ns?null!==g.name&&j.name.toLowerCase()!=g.name.toLowerCase()&&c.value.splice(d,1):c.value.splice(d,1)):c.value.splice(d,1);break;default:throw new Error("NodeTest type not supported in step: "+b.type)}return c},predicate:function(a,b,c){var d,e,f,g,i,j;if(d=h(this,b),!d instanceof p)throw new Error('Expected "node-set", got: '+d.type);switch(a){case"ancestor":case"ancestor-or-self":case"preceding":case"preceding-sibling":d.sortReverseDocumentOrder();break;default:d.sortDocumentOrder()}for(g=0;g<c.length;g++)for(e=0,i=1,j=d.value.length;e<d.value.length;i++){if(f=h(this.clone(d.value[e],i,j),c[g]),f instanceof o){if(f.value!=i){d.value.splice(e,1);continue}}else if(!f.toBoolean()){d.value.splice(e,1);continue}e++}return d},"function":function(a,b){var c,d,e,f,g=[],i=function(a){return(null!==a.ns?"{"+a.ns+"}":"{}")+a.name},j=function(a){var b,c,d=[];for(b=0;b<a.length;b++)c=void 0===a[b].t?"object":a[b].t,a[b].r!==!1?a[b].rep===!0&&(c+="+"):c+=a[b].rep===!0?"*":"?",d.push(c);return"("+d.join(", ")+")"},k=0,m=[];if(c=h(this,a),null===c.ns&&(c.ns=""),!this.fns[c.ns]||!this.fns[c.ns][c.name])throw new Error('Function "'+i(c)+'" does not exist.');for(d=this.fns[c.ns][c.name],d.args||(d.args=[]),e=0,k=0;e<d.args.length;k++,e++){if(void 0===b[k]){if(d.args[e].r!==!1)throw new Error('Function "'+i(c)+'" expects '+j(d.args)+".")}else m.push(void 0===d.args[e].t?"object":d.args[e].t);if(d.args[e].rep===!0){for(;k<b.length;k++)m.push(void 0===d.args[e].t?"object":d.args[e].t);break}}if(m.length<b.length)throw new Error('Function "'+i(c)+'" expects '+j(d.args)+".");for(e=0;e<b.length;e++){if(f=h(this,b[e]),"object"!==m[e]&&!f.canConvertTo(m[e]))throw new Error('Function "'+i(c)+'" expects '+j(d.args)+'.Cannot convert "'+f.type+'" to "'+m[e]+'".');g.push(f)}if(result=d.fn.apply(this,g),!result instanceof l)throw new Error('Function "'+i(c)+'" did not return a value that inherits from BaseType.');if("object"!==d.ret&&!result.canConvertTo(d.ret))throw new Error('Function "'+i(c)+'" return "'+result.type+'" type that cannot be converted to "'+d.ret+'".');return result},"|":function(a,b){if(a=h(this,a),b=h(this,b),"undefined"==typeof a||"undefined"==typeof b||!a instanceof p||!b instanceof p)throw new Error('Unable to perform union on non-"node-set" types.');return a.append(b),a},or:function(a,b){return new m(h(this,a).toBoolean()?!0:h(this,b).toBoolean())},and:function(a,b){return new m(h(this,a).toBoolean()?h(this,b).toBoolean():!1)},"=":function(a,b){return Q.call(this,h(this,a),h(this,b),"=",function(a,b){return a==b})},"!=":function(a,b){return Q.call(this,h(this,a),h(this,b),"!=",function(a,b){return a!=b})},"<=":function(a,b){return Q.call(this,h(this,a),h(this,b),"<=",function(a,b){return b>=a})},"<":function(a,b){return Q.call(this,h(this,a),h(this,b),"<",function(a,b){return b>a})},">=":function(a,b){return Q.call(this,h(this,a),h(this,b),">=",function(a,b){return a>=b})},">":function(a,b){return Q.call(this,h(this,a),h(this,b),">",function(a,b){return a>b})},"+":function(a,b){return new o(h(this,a).toNumber()+h(this,b).toNumber())},"-":function(a,b){return new o(h(this,a).toNumber()-h(this,b).toNumber())},div:function(a,b){return new o(h(this,a).toNumber()/h(this,b).toNumber())},mod:function(a,b){return new o(h(this,a).toNumber()%h(this,b).toNumber())},"*":function(a,b){return new o(h(this,a).toNumber()*h(this,b).toNumber())},string:function(a){return new n(a)},number:function(a){return new o(a)},$:function(a){throw new Error("TODO: Not implemented.16")},name:function(a,b){var c=null;if(null!==a&&(c=this.nsMap[a],!c))throw new Error('Namespace prefix "'+a+'" is not mapped to a namespace.');return{ns:c,name:b}}},j={"":{last:{fn:function(){return new o(this.size)},ret:"number"},position:{fn:function(){return new o(this.pos)},ret:"number"},count:{fn:function(a){return new o(a.toNodeSet().length)},args:[{t:"node-set"}],ret:"number"},id:{fn:function(a){var b,c,d,e=this,f=[],g=[],h=function(a){var b,c=a.split(/[\u0020\u0009\u000D\u000A]+/);for(b=c.length-1;b>=0;b--)0==c[b].length&&c.splice(b,1);return c};if(a instanceof p)for(b=0;b<a.value.length;b++)f.push.apply(f,h(N(a.value[b])));else a=a.toString(),f=h(a);for(b=f.length-1;b>=0;b--)for(c=b-1;c>=0;c--)if(f[b]==f[c]&&b!=c){f.splice(b,1);break}for(b=0;b<f.length;b++)d=v(this.node).getElementById(f[b]),d&&K.call(this,d)?g.push(d):L(v(this.node),!0,function(a,c){var d=K.call(e,a,c);return d&&d.nodeValue==f[b]?(g.push(a),!0):void 0});return new p(g)},args:[{}],ret:"node-set"},"local-name":{fn:function(a){var b,c="";return 0==arguments.length&&(a=new p([this.node])),a.toNodeSet().length>0&&(a.sortDocumentOrder(),b=M.call(this,a.value[0]),b!==!1&&(c=b.name)),new n(c)},args:[{t:"node-set",r:!1}],ret:"string"},"namespace-uri":{fn:function(a){var b,c="";return 0==arguments.length&&(a=new p([this.node])),a.toNodeSet().length>0&&(a.sortDocumentOrder(),b=M.call(this,a.value[0]),b!==!1&&null!==b.ns&&(c=b.ns)),new n(c)},args:[{t:"node-set",r:!1}],ret:"string"},name:{fn:function(a){var b,c="";return 0==arguments.length&&(a=new p([this.node])),a.toNodeSet().length>0&&(a.sortDocumentOrder(),b=M.call(this,a.value[0]),b!==!1&&(c=b.prefix&&b.prefix.length>0?b.prefix+":"+b.name:b.name)),new n(c)},args:[{t:"node-set",r:!1}],ret:"string"},string:{fn:function(a){return 0==arguments.length&&(a=new p([this.node],"document-order")),new n(a.toString())},args:[{t:"object",r:!1}],ret:"string"},concat:{fn:function(a,b){var c,d="";for(c=0;c<arguments.length;c++)d+=arguments[c].toString();return new n(d)},args:[{t:"string"},{t:"string"},{t:"string",r:!1,rep:!0}],ret:"string"},"starts-with":{fn:function(a,b){return new m(a.toString().substr(0,(b=b.toString()).length)==b)},args:[{t:"string"},{t:"string"}],ret:"string"},contains:{fn:function(a,b){return new m(-1!=a.toString().indexOf(b=b.toString()))},args:[{t:"string"},{t:"string"}],ret:"string"},"substring-before":{fn:function(a,b){return a=a.toString(),b=a.indexOf(b.toString()),new n(-1==b?"":a.substr(0,b))},args:[{t:"string"},{t:"string"}],ret:"string"},"substring-after":{fn:function(a,b){var c;return a=a.toString(),b=b.toString(),c=a.indexOf(b),new n(-1==c?"":a.substr(c+b.length))},args:[{t:"string"},{t:"string"}],ret:"string"},substring:{fn:function(a,b,c){return a=a.toString(),b=Math.round(b.toNumber())-1,new n(isNaN(b)?"":2==arguments.length?a.substring(0>b?0:b):a.substring(0>b?0:b,b+Math.round(c.toNumber())))},args:[{t:"string"},{t:"number"},{t:"number",r:!1}],ret:"string"},"string-length":{fn:function(a){return a=0==arguments.length?N(this.node):a.toString(),new o(a.length)},args:[{t:"string",r:!1}],ret:"number"},"normalize-space":{fn:function(a){return a=0==arguments.length?N(this.node):a.toString(),new n(a.replace(/^[\u0020\u0009\u000D\u000A]+/,"").replace(/[\u0020\u0009\u000D\u000A]+$/,"").replace(/[\u0020\u0009\u000D\u000A]+/g," "))},args:[{t:"string",r:!1}],ret:"string"},translate:{fn:function(a,b,c){var d,e,f,g="";for(a=a.toString(),b=b.toString(),c=c.toString(),d=0;d<a.length;d++)(-1==(e=b.indexOf(f=a.charAt(d)))||(f=c.charAt(e)))&&(g+=f);return new n(g)},args:[{t:"string"},{t:"string"},{t:"string"}],ret:"string"},"boolean":{fn:function(a){return new m(a.toBoolean())},args:[{r:!0}],ret:"boolean"},not:{fn:function(a){return new m(!a.toBoolean())},args:[{t:"boolean"}],ret:"boolean"},"true":{fn:function(){return new m(!0)},ret:"boolean"},"false":{fn:function(){return new m(!1)},ret:"boolean"},lang:{fn:function(a){for(var b,c,d,e,f,g,h,i=this.node,j=a.toString().toLowerCase().split("-");9!=i.nodeType;i=y(i))for(b=G(i),f=0;f<b.length;f++)if(c=b[f].nodeName.split(":"),1===c.length&&(c[1]=c[0],c[0]=""),"lang"==c[1]){if(d=b[f].nodeValue.toLowerCase().split("-"),d.length<j.length)continue;for(h=!0,g=0;g<j.length;g++)if(j[g]!=d[g]){h=!1;break}if(h)for(e=H.call(this,i),g=0;g<e.length;g++)if(e[g].prefix==c[0]&&e[g].nodeValue==s)return new m(!0)}return new m(!1)},args:[{t:"string"}],ret:"boolean"},number:{fn:function(a){return 0==arguments.length&&(a=new p([this.node],"document-order")),new o(a.toNumber())},args:[{t:"object",r:!1}],ret:"number"},sum:{fn:function(a){var b,c=0;for(a=a.toNodeSet(),b=0;b<a.length;b++)c+=new n(N(a[b])).toNumber();return new o(c)},args:[{t:"node-set"}],ret:"number"},floor:{fn:function(a){return new o(Math.floor(a))},args:[{t:"number"}],ret:"number"},ceiling:{fn:function(a){return new o(Math.ceil(a))},args:[{t:"number"}],ret:"number"},round:{fn:function(a){return new o(Math.round(a))},args:[{t:"number"}],ret:"number"}}},h=function(a,b){if("function"!=typeof i[b.type])throw new Error("Internal Error: Expression type does not exist: "+b.type);return i[b.type].apply(a,b.args)},e=function(b,c,d){switch(c){case e.NUMBER_TYPE:this.resultType=e.NUMBER_TYPE,this.numberValue=d.toNumber();break;case e.STRING_TYPE:this.resultType=e.STRING_TYPE,this.stringValue=d.toString();break;case e.BOOLEAN_TYPE:this.resultType=e.BOOLEAN_TYPE,this.booleanValue=d.toBoolean();break;case e.UNORDERED_NODE_ITERATOR_TYPE:case e.ORDERED_NODE_ITERATOR_TYPE:case e.UNORDERED_NODE_SNAPSHOT_TYPE:case e.ORDERED_NODE_SNAPSHOT_TYPE:case e.ANY_UNORDERED_NODE_TYPE:case e.FIRST_ORDERED_NODE_TYPE:if(!d instanceof p)throw new Error('Expected result of type "node-set", got: "'+d.type+'"');switch(this.resultType=c,c){case e.UNORDERED_NODE_ITERATOR_TYPE:case e.UNORDERED_NODE_SNAPSHOT_TYPE:this._value=d.toNodeSet(),this.snapshotLength=this._value.length;break;case e.ORDERED_NODE_ITERATOR_TYPE:case e.ORDERED_NODE_SNAPSHOT_TYPE:d.sortDocumentOrder(),this._value=d.toNodeSet(),this.snapshotLength=this._value.length;break;case e.ANY_UNORDERED_NODE_TYPE:d=d.toNodeSet(),this.singleNodeValue=d.length?d[0]:null;break;case e.FIRST_ORDERED_NODE_TYPE:d.sortDocumentOrder(),d=d.toNodeSet(),this.singleNodeValue=d.length?d[0]:null;break;default:throw new a(a.TYPE_ERR,"XPath result type not supported. (type: "+c+")")}break;default:throw new a(a.TYPE_ERR,"XPath result type not supported. (type: "+c+")")}},e.factory=function(b,c,d){var f;if(c!==e.ANY_TYPE)return new e(b,c,d);if(d instanceof p)f=new e(b,e.UNORDERED_NODE_ITERATOR_TYPE,d);else if(d instanceof o)f=new e(b,e.NUMBER_TYPE,d);else if(d instanceof m)f=new e(b,e.BOOLEAN_TYPE,d);else{if(!(d instanceof n))throw new a(a.TYPE_ERR,"Internal Error: Unsupported value type: "+typeof d);f=new e(b,e.STRING_TYPE,d)}return f},e.prototype={resultType:null,numberValue:null,stringValue:null,booleanValue:null,singleNodeValue:null,invalidIteratorState:null,snapshotLength:null,_iteratorIndex:0,iterateNext:function(){if(this.resultType!=e.UNORDERED_NODE_ITERATOR_TYPE&&this.resultType!=e.ORDERED_NODE_ITERATOR_TYPE)throw new a(a.TYPE_ERR,"iterateNext() method may only be used with results of type UNORDERED_NODE_ITERATOR_TYPE or ORDERED_NODE_ITERATOR_TYPE");return this._iteratorIndex<this._value.length?this._value[this._iteratorIndex++]:null},snapshotItem:function(b){if(this.resultType!=e.UNORDERED_NODE_SNAPSHOT_TYPE&&this.resultType!=e.ORDERED_NODE_SNAPSHOT_TYPE)throw new a(a.TYPE_ERR,"snapshotItem() method may only be used with results of type UNORDERED_NODE_SNAPSHOT_TYPE or ORDERED_NODE_SNAPSHOT_TYPE");return this._value[b]}},e.ANY_TYPE=0,e.NUMBER_TYPE=1,e.STRING_TYPE=2,e.BOOLEAN_TYPE=3,e.UNORDERED_NODE_ITERATOR_TYPE=4,e.ORDERED_NODE_ITERATOR_TYPE=5,e.UNORDERED_NODE_SNAPSHOT_TYPE=6,e.ORDERED_NODE_SNAPSHOT_TYPE=7,e.ANY_UNORDERED_NODE_TYPE=8,e.FIRST_ORDERED_NODE_TYPE=9,f=function(a,b,c){if(1!=c.nodeType)throw new Error("Internal Error: XPathNamespace owner element must be an Element node.");this.ownerElement=c,this.ownerDocument=c.ownerDocument,this.nodeName="#namespace",this.prefix=a,this.localName=a,this.nodeType=f.XPATH_NAMESPACE_NODE,this.namespaceURI=b,this.nodeValue=b},f.XPATH_NAMESPACE_NODE=13,g={XPathException:a,XPathEvaluator:b,XPathNSResolver:d,XPathExpression:c,XPathResult:e,XPathNamespace:f,getCurrentDomLevel3XPathBindings:function(){return{window:{XPathException:window.XPathException,XPathExpression:window.XPathExpression,XPathNSResolver:window.XPathNSResolver,XPathResult:window.XPathResult,XPathNamespace:window.XPathNamespace},document:{createExpression:document.createExpression,createNSResolver:document.createNSResolver,evaluate:document.evaluate}}},createDomLevel3XPathBindings:function(g){var h=new b(g);return{window:{XPathException:a,XPathExpression:c,XPathNSResolver:d,XPathResult:e,XPathNamespace:f},document:{createExpression:function(){return h.createExpression.apply(h,arguments)},createNSResolver:function(){return h.createNSResolver.apply(h,arguments)},evaluate:function(){return h.evaluate.apply(h,arguments)}}}},bindDomLevel3XPath:function(a){var b,c=a||g.createDomLevel3XPathBindings(),d=g.getCurrentDomLevel3XPathBindings();for(b in c.window)window[b]=c.window[b];for(b in c.document)document[b]=c.document[b];return d}}}(),XPathJS._parser=function(){"use strict";function a(a,b){function c(){this.constructor=a}c.prototype=b.prototype,a.prototype=new c}function b(a,c,d,e){this.message=a,this.expected=c,this.found=d,this.location=e,this.name="SyntaxError","function"==typeof Error.captureStackTrace&&Error.captureStackTrace(this,b)}function c(a){function c(b){var c,d,e=jd[b];if(e)return e;for(c=b-1;!jd[c];)c--;for(e=jd[c],e={line:e.line,column:e.column,seenCR:e.seenCR};b>c;)d=a.charAt(c),"\n"===d?(e.seenCR||e.line++,e.column=1,e.seenCR=!1):"\r"===d||"\u2028"===d||"\u2029"===d?(e.line++,e.column=1,e.seenCR=!0):(e.column++,e.seenCR=!1),c++;return jd[b]=e,e}function d(a,b){var d=c(a),e=c(b);return{start:{offset:a,line:d.line,column:d.column},end:{offset:b,line:e.line,column:e.column}}}function e(a){kd>hd||(hd>kd&&(kd=hd,ld=[]),ld.push(a))}function f(a,c,d,e){function f(a){var b=1;for(a.sort(function(a,b){return a.description<b.description?-1:a.description>b.description?1:0});b<a.length;)a[b-1]===a[b]?a.splice(b,1):b++}function g(a,b){function c(a){function b(a){return a.charCodeAt(0).toString(16).toUpperCase()}return a.replace(/\\/g,"\\\\").replace(/"/g,'\\"').replace(/\x08/g,"\\b").replace(/\t/g,"\\t").replace(/\n/g,"\\n").replace(/\f/g,"\\f").replace(/\r/g,"\\r").replace(/[\x00-\x07\x0B\x0E\x0F]/g,function(a){return"\\x0"+b(a)}).replace(/[\x10-\x1F\x80-\xFF]/g,function(a){return"\\x"+b(a)}).replace(/[\u0100-\u0FFF]/g,function(a){return"\\u0"+b(a)}).replace(/[\u1000-\uFFFF]/g,function(a){return"\\u"+b(a)})}var d,e,f,g=new Array(a.length);for(f=0;f<a.length;f++)g[f]=a[f].description;return d=a.length>1?g.slice(0,-1).join(", ")+" or "+g[a.length-1]:g[0],e=b?'"'+c(b)+'"':"end of input","Expected "+d+" but "+e+" found."}return null!==c&&f(c),new b(null!==a?a:g(c,d),c,d,e)}function g(){var a,b,c,d;return a=hd,b=O(),b!==Y?(c=s(),c!==Y?(d=O(),d!==Y?(id=a,b=_(c),a=b):(hd=a,a=Y)):(hd=a,a=Y)):(hd=a,a=Y),a}function h(){var a;return a=j(),a===Y&&(a=i()),a}function i(){var b,c,d,f,g;return b=p(),b===Y&&(b=hd,47===a.charCodeAt(hd)?(c=aa,hd++):(c=Y,0===md&&e(ba)),c!==Y?(d=hd,f=O(),f!==Y?(g=j(),g!==Y?(f=[f,g],d=f):(hd=d,d=Y)):(hd=d,d=Y),d===Y&&(d=null),
d!==Y?(id=b,c=ca(d),b=c):(hd=b,b=Y)):(hd=b,b=Y)),b}function j(){var b,c,d,f,g,h,i,j;if(b=hd,c=k(),c!==Y){for(d=[],f=hd,g=O(),g!==Y?(a.substr(hd,2)===da?(h=da,hd+=2):(h=Y,0===md&&e(ea)),h===Y&&(47===a.charCodeAt(hd)?(h=aa,hd++):(h=Y,0===md&&e(ba))),h!==Y?(i=O(),i!==Y?(j=k(),j!==Y?(g=[g,h,i,j],f=g):(hd=f,f=Y)):(hd=f,f=Y)):(hd=f,f=Y)):(hd=f,f=Y);f!==Y;)d.push(f),f=hd,g=O(),g!==Y?(a.substr(hd,2)===da?(h=da,hd+=2):(h=Y,0===md&&e(ea)),h===Y&&(47===a.charCodeAt(hd)?(h=aa,hd++):(h=Y,0===md&&e(ba))),h!==Y?(i=O(),i!==Y?(j=k(),j!==Y?(g=[g,h,i,j],f=g):(hd=f,f=Y)):(hd=f,f=Y)):(hd=f,f=Y)):(hd=f,f=Y);d!==Y?(id=b,c=fa(c,d),b=c):(hd=b,b=Y)}else hd=b,b=Y;return b}function k(){var a,b,c,d,e,f,g,h;if(a=hd,b=l(),b!==Y)if(c=O(),c!==Y)if(d=n(),d!==Y){for(e=[],f=hd,g=O(),g!==Y?(h=o(),h!==Y?(g=[g,h],f=g):(hd=f,f=Y)):(hd=f,f=Y);f!==Y;)e.push(f),f=hd,g=O(),g!==Y?(h=o(),h!==Y?(g=[g,h],f=g):(hd=f,f=Y)):(hd=f,f=Y);e!==Y?(id=a,b=ga(b,d,e),a=b):(hd=a,a=Y)}else hd=a,a=Y;else hd=a,a=Y;else hd=a,a=Y;return a===Y&&(a=q()),a}function l(){var b,c,d,f;return b=hd,c=m(),c!==Y?(d=O(),d!==Y?(a.substr(hd,2)===ha?(f=ha,hd+=2):(f=Y,0===md&&e(ia)),f!==Y?(id=b,c=ja(c),b=c):(hd=b,b=Y)):(hd=b,b=Y)):(hd=b,b=Y),b===Y&&(b=hd,c=r(),c!==Y&&(id=b,c=ka(c)),b=c),b}function m(){var b;return a.substr(hd,16)===la?(b=la,hd+=16):(b=Y,0===md&&e(ma)),b===Y&&(a.substr(hd,8)===na?(b=na,hd+=8):(b=Y,0===md&&e(oa)),b===Y&&(a.substr(hd,9)===pa?(b=pa,hd+=9):(b=Y,0===md&&e(qa)),b===Y&&(a.substr(hd,5)===ra?(b=ra,hd+=5):(b=Y,0===md&&e(sa)),b===Y&&(a.substr(hd,18)===ta?(b=ta,hd+=18):(b=Y,0===md&&e(ua)),b===Y&&(a.substr(hd,10)===va?(b=va,hd+=10):(b=Y,0===md&&e(wa)),b===Y&&(a.substr(hd,17)===xa?(b=xa,hd+=17):(b=Y,0===md&&e(ya)),b===Y&&(a.substr(hd,9)===za?(b=za,hd+=9):(b=Y,0===md&&e(Aa)),b===Y&&(a.substr(hd,9)===Ba?(b=Ba,hd+=9):(b=Y,0===md&&e(Ca)),b===Y&&(a.substr(hd,6)===Da?(b=Da,hd+=6):(b=Y,0===md&&e(Ea)),b===Y&&(a.substr(hd,17)===Fa?(b=Fa,hd+=17):(b=Y,0===md&&e(Ga)),b===Y&&(a.substr(hd,9)===Ha?(b=Ha,hd+=9):(b=Y,0===md&&e(Ia)),b===Y&&(a.substr(hd,4)===Ja?(b=Ja,hd+=4):(b=Y,0===md&&e(Ka)))))))))))))),b}function n(){var b,c,d,f,g,h,i,j;return b=hd,c=M(),c!==Y?(d=O(),d!==Y?(40===a.charCodeAt(hd)?(f=La,hd++):(f=Y,0===md&&e(Ma)),f!==Y?(g=O(),g!==Y?(41===a.charCodeAt(hd)?(h=Na,hd++):(h=Y,0===md&&e(Oa)),h!==Y?(id=b,c=Pa(c),b=c):(hd=b,b=Y)):(hd=b,b=Y)):(hd=b,b=Y)):(hd=b,b=Y)):(hd=b,b=Y),b===Y&&(b=hd,a.substr(hd,22)===Qa?(c=Qa,hd+=22):(c=Y,0===md&&e(Ra)),c!==Y?(d=O(),d!==Y?(40===a.charCodeAt(hd)?(f=La,hd++):(f=Y,0===md&&e(Ma)),f!==Y?(g=O(),g!==Y?(h=F(),h!==Y?(i=O(),i!==Y?(41===a.charCodeAt(hd)?(j=Na,hd++):(j=Y,0===md&&e(Oa)),j!==Y?(id=b,c=Sa(c,h),b=c):(hd=b,b=Y)):(hd=b,b=Y)):(hd=b,b=Y)):(hd=b,b=Y)):(hd=b,b=Y)):(hd=b,b=Y)):(hd=b,b=Y),b===Y&&(b=hd,c=L(),c!==Y&&(id=b,c=Ta(c)),b=c)),b}function o(){var b,c,d,f,g,h;return b=hd,91===a.charCodeAt(hd)?(c=Ua,hd++):(c=Y,0===md&&e(Va)),c!==Y?(d=O(),d!==Y?(f=s(),f!==Y?(g=O(),g!==Y?(93===a.charCodeAt(hd)?(h=Wa,hd++):(h=Y,0===md&&e(Xa)),h!==Y?(id=b,c=Ya(f),b=c):(hd=b,b=Y)):(hd=b,b=Y)):(hd=b,b=Y)):(hd=b,b=Y)):(hd=b,b=Y),b}function p(){var b,c,d,f;return b=hd,a.substr(hd,2)===da?(c=da,hd+=2):(c=Y,0===md&&e(ea)),c!==Y?(d=O(),d!==Y?(f=j(),f!==Y?(id=b,c=Za(f),b=c):(hd=b,b=Y)):(hd=b,b=Y)):(hd=b,b=Y),b}function q(){var b,c;return b=hd,a.substr(hd,2)===$a?(c=$a,hd+=2):(c=Y,0===md&&e(_a)),c===Y&&(46===a.charCodeAt(hd)?(c=ab,hd++):(c=Y,0===md&&e(bb))),c!==Y&&(id=b,c=cb(c)),b=c}function r(){var b,c;return b=hd,64===a.charCodeAt(hd)?(c=db,hd++):(c=Y,0===md&&e(eb)),c===Y&&(c=null),c!==Y&&(id=b,c=fb(c)),b=c}function s(){var a,b;return a=hd,b=y(),b!==Y&&(id=a,b=Ya(b)),a=b}function t(){var b,c,d,f,g,h;return b=hd,c=K(),c!==Y&&(id=b,c=gb(c)),b=c,b===Y&&(b=hd,40===a.charCodeAt(hd)?(c=La,hd++):(c=Y,0===md&&e(Ma)),c!==Y?(d=O(),d!==Y?(f=s(),f!==Y?(g=O(),g!==Y?(41===a.charCodeAt(hd)?(h=Na,hd++):(h=Y,0===md&&e(Oa)),h!==Y?(id=b,c=Ya(f),b=c):(hd=b,b=Y)):(hd=b,b=Y)):(hd=b,b=Y)):(hd=b,b=Y)):(hd=b,b=Y),b===Y&&(b=hd,c=F(),c!==Y&&(id=b,c=hb(c)),b=c,b===Y&&(b=hd,c=G(),c!==Y&&(id=b,c=ib(c)),b=c,b===Y&&(b=u())))),b}function u(){var b,c,d,f,g,h,i,j,k,l,m,n,o;if(b=hd,c=J(),c!==Y)if(d=O(),d!==Y)if(40===a.charCodeAt(hd)?(f=La,hd++):(f=Y,0===md&&e(Ma)),f!==Y){if(g=hd,h=O(),h!==Y)if(i=s(),i!==Y){for(j=[],k=hd,l=O(),l!==Y?(44===a.charCodeAt(hd)?(m=jb,hd++):(m=Y,0===md&&e(kb)),m!==Y?(n=O(),n!==Y?(o=s(),o!==Y?(l=[l,m,n,o],k=l):(hd=k,k=Y)):(hd=k,k=Y)):(hd=k,k=Y)):(hd=k,k=Y);k!==Y;)j.push(k),k=hd,l=O(),l!==Y?(44===a.charCodeAt(hd)?(m=jb,hd++):(m=Y,0===md&&e(kb)),m!==Y?(n=O(),n!==Y?(o=s(),o!==Y?(l=[l,m,n,o],k=l):(hd=k,k=Y)):(hd=k,k=Y)):(hd=k,k=Y)):(hd=k,k=Y);j!==Y?(h=[h,i,j],g=h):(hd=g,g=Y)}else hd=g,g=Y;else hd=g,g=Y;g===Y&&(g=null),g!==Y?(h=O(),h!==Y?(41===a.charCodeAt(hd)?(i=Na,hd++):(i=Y,0===md&&e(Oa)),i!==Y?(id=b,c=lb(c,g),b=c):(hd=b,b=Y)):(hd=b,b=Y)):(hd=b,b=Y)}else hd=b,b=Y;else hd=b,b=Y;else hd=b,b=Y;return b}function v(){var b,c,d,f,g,h,i,j;if(b=hd,c=w(),c!==Y){for(d=[],f=hd,g=O(),g!==Y?(124===a.charCodeAt(hd)?(h=mb,hd++):(h=Y,0===md&&e(nb)),h!==Y?(i=O(),i!==Y?(j=w(),j!==Y?(g=[g,h,i,j],f=g):(hd=f,f=Y)):(hd=f,f=Y)):(hd=f,f=Y)):(hd=f,f=Y);f!==Y;)d.push(f),f=hd,g=O(),g!==Y?(124===a.charCodeAt(hd)?(h=mb,hd++):(h=Y,0===md&&e(nb)),h!==Y?(i=O(),i!==Y?(j=w(),j!==Y?(g=[g,h,i,j],f=g):(hd=f,f=Y)):(hd=f,f=Y)):(hd=f,f=Y)):(hd=f,f=Y);d!==Y?(id=b,c=ob(c,d),b=c):(hd=b,b=Y)}else hd=b,b=Y;return b}function w(){var b,c,d,f,g,i,k;return b=hd,c=x(),c!==Y?(d=hd,f=O(),f!==Y?(a.substr(hd,2)===da?(g=da,hd+=2):(g=Y,0===md&&e(ea)),g===Y&&(47===a.charCodeAt(hd)?(g=aa,hd++):(g=Y,0===md&&e(ba))),g!==Y?(i=O(),i!==Y?(k=j(),k!==Y?(f=[f,g,i,k],d=f):(hd=d,d=Y)):(hd=d,d=Y)):(hd=d,d=Y)):(hd=d,d=Y),d===Y&&(d=null),d!==Y?(id=b,c=pb(c,d),b=c):(hd=b,b=Y)):(hd=b,b=Y),b===Y&&(b=hd,c=h(),c!==Y&&(id=b,c=qb(c)),b=c),b}function x(){var a,b,c,d,e,f;if(a=hd,b=t(),b!==Y){for(c=[],d=hd,e=O(),e!==Y?(f=o(),f!==Y?(e=[e,f],d=e):(hd=d,d=Y)):(hd=d,d=Y);d!==Y;)c.push(d),d=hd,e=O(),e!==Y?(f=o(),f!==Y?(e=[e,f],d=e):(hd=d,d=Y)):(hd=d,d=Y);c!==Y?(id=a,b=rb(b,c),a=b):(hd=a,a=Y)}else hd=a,a=Y;return a}function y(){var b,c,d,f,g,h,i,j;if(b=hd,c=z(),c!==Y){for(d=[],f=hd,g=O(),g!==Y?(a.substr(hd,2)===sb?(h=sb,hd+=2):(h=Y,0===md&&e(tb)),h!==Y?(i=O(),i!==Y?(j=z(),j!==Y?(g=[g,h,i,j],f=g):(hd=f,f=Y)):(hd=f,f=Y)):(hd=f,f=Y)):(hd=f,f=Y);f!==Y;)d.push(f),f=hd,g=O(),g!==Y?(a.substr(hd,2)===sb?(h=sb,hd+=2):(h=Y,0===md&&e(tb)),h!==Y?(i=O(),i!==Y?(j=z(),j!==Y?(g=[g,h,i,j],f=g):(hd=f,f=Y)):(hd=f,f=Y)):(hd=f,f=Y)):(hd=f,f=Y);d!==Y?(id=b,c=ob(c,d),b=c):(hd=b,b=Y)}else hd=b,b=Y;return b}function z(){var b,c,d,f,g,h,i,j;if(b=hd,c=A(),c!==Y){for(d=[],f=hd,g=O(),g!==Y?(a.substr(hd,3)===ub?(h=ub,hd+=3):(h=Y,0===md&&e(vb)),h!==Y?(i=O(),i!==Y?(j=A(),j!==Y?(g=[g,h,i,j],f=g):(hd=f,f=Y)):(hd=f,f=Y)):(hd=f,f=Y)):(hd=f,f=Y);f!==Y;)d.push(f),f=hd,g=O(),g!==Y?(a.substr(hd,3)===ub?(h=ub,hd+=3):(h=Y,0===md&&e(vb)),h!==Y?(i=O(),i!==Y?(j=A(),j!==Y?(g=[g,h,i,j],f=g):(hd=f,f=Y)):(hd=f,f=Y)):(hd=f,f=Y)):(hd=f,f=Y);d!==Y?(id=b,c=ob(c,d),b=c):(hd=b,b=Y)}else hd=b,b=Y;return b}function A(){var b,c,d,f,g,h,i,j;if(b=hd,c=B(),c!==Y){for(d=[],f=hd,g=O(),g!==Y?(61===a.charCodeAt(hd)?(h=wb,hd++):(h=Y,0===md&&e(xb)),h===Y&&(a.substr(hd,2)===yb?(h=yb,hd+=2):(h=Y,0===md&&e(zb))),h!==Y?(i=O(),i!==Y?(j=B(),j!==Y?(g=[g,h,i,j],f=g):(hd=f,f=Y)):(hd=f,f=Y)):(hd=f,f=Y)):(hd=f,f=Y);f!==Y;)d.push(f),f=hd,g=O(),g!==Y?(61===a.charCodeAt(hd)?(h=wb,hd++):(h=Y,0===md&&e(xb)),h===Y&&(a.substr(hd,2)===yb?(h=yb,hd+=2):(h=Y,0===md&&e(zb))),h!==Y?(i=O(),i!==Y?(j=B(),j!==Y?(g=[g,h,i,j],f=g):(hd=f,f=Y)):(hd=f,f=Y)):(hd=f,f=Y)):(hd=f,f=Y);d!==Y?(id=b,c=ob(c,d),b=c):(hd=b,b=Y)}else hd=b,b=Y;return b}function B(){var b,c,d,f,g,h,i,j;if(b=hd,c=C(),c!==Y){for(d=[],f=hd,g=O(),g!==Y?(a.substr(hd,2)===Ab?(h=Ab,hd+=2):(h=Y,0===md&&e(Bb)),h===Y&&(60===a.charCodeAt(hd)?(h=Cb,hd++):(h=Y,0===md&&e(Db)),h===Y&&(a.substr(hd,2)===Eb?(h=Eb,hd+=2):(h=Y,0===md&&e(Fb)),h===Y&&(62===a.charCodeAt(hd)?(h=Gb,hd++):(h=Y,0===md&&e(Hb))))),h!==Y?(i=O(),i!==Y?(j=C(),j!==Y?(g=[g,h,i,j],f=g):(hd=f,f=Y)):(hd=f,f=Y)):(hd=f,f=Y)):(hd=f,f=Y);f!==Y;)d.push(f),f=hd,g=O(),g!==Y?(a.substr(hd,2)===Ab?(h=Ab,hd+=2):(h=Y,0===md&&e(Bb)),h===Y&&(60===a.charCodeAt(hd)?(h=Cb,hd++):(h=Y,0===md&&e(Db)),h===Y&&(a.substr(hd,2)===Eb?(h=Eb,hd+=2):(h=Y,0===md&&e(Fb)),h===Y&&(62===a.charCodeAt(hd)?(h=Gb,hd++):(h=Y,0===md&&e(Hb))))),h!==Y?(i=O(),i!==Y?(j=C(),j!==Y?(g=[g,h,i,j],f=g):(hd=f,f=Y)):(hd=f,f=Y)):(hd=f,f=Y)):(hd=f,f=Y);d!==Y?(id=b,c=ob(c,d),b=c):(hd=b,b=Y)}else hd=b,b=Y;return b}function C(){var b,c,d,f,g,h,i,j;if(b=hd,c=D(),c!==Y){for(d=[],f=hd,g=O(),g!==Y?(43===a.charCodeAt(hd)?(h=Ib,hd++):(h=Y,0===md&&e(Jb)),h===Y&&(45===a.charCodeAt(hd)?(h=Kb,hd++):(h=Y,0===md&&e(Lb))),h!==Y?(i=O(),i!==Y?(j=D(),j!==Y?(g=[g,h,i,j],f=g):(hd=f,f=Y)):(hd=f,f=Y)):(hd=f,f=Y)):(hd=f,f=Y);f!==Y;)d.push(f),f=hd,g=O(),g!==Y?(43===a.charCodeAt(hd)?(h=Ib,hd++):(h=Y,0===md&&e(Jb)),h===Y&&(45===a.charCodeAt(hd)?(h=Kb,hd++):(h=Y,0===md&&e(Lb))),h!==Y?(i=O(),i!==Y?(j=D(),j!==Y?(g=[g,h,i,j],f=g):(hd=f,f=Y)):(hd=f,f=Y)):(hd=f,f=Y)):(hd=f,f=Y);d!==Y?(id=b,c=ob(c,d),b=c):(hd=b,b=Y)}else hd=b,b=Y;return b}function D(){var b,c,d,f,g,h,i,j;if(b=hd,c=E(),c!==Y){for(d=[],f=hd,g=O(),g!==Y?(h=I(),h===Y&&(a.substr(hd,3)===Mb?(h=Mb,hd+=3):(h=Y,0===md&&e(Nb)),h===Y&&(a.substr(hd,3)===Ob?(h=Ob,hd+=3):(h=Y,0===md&&e(Pb)))),h!==Y?(i=O(),i!==Y?(j=E(),j!==Y?(g=[g,h,i,j],f=g):(hd=f,f=Y)):(hd=f,f=Y)):(hd=f,f=Y)):(hd=f,f=Y);f!==Y;)d.push(f),f=hd,g=O(),g!==Y?(h=I(),h===Y&&(a.substr(hd,3)===Mb?(h=Mb,hd+=3):(h=Y,0===md&&e(Nb)),h===Y&&(a.substr(hd,3)===Ob?(h=Ob,hd+=3):(h=Y,0===md&&e(Pb)))),h!==Y?(i=O(),i!==Y?(j=E(),j!==Y?(g=[g,h,i,j],f=g):(hd=f,f=Y)):(hd=f,f=Y)):(hd=f,f=Y)):(hd=f,f=Y);d!==Y?(id=b,c=ob(c,d),b=c):(hd=b,b=Y)}else hd=b,b=Y;return b}function E(){var b,c,d,f;return b=hd,c=v(),c!==Y&&(id=b,c=Ya(c)),b=c,b===Y&&(b=hd,45===a.charCodeAt(hd)?(c=Kb,hd++):(c=Y,0===md&&e(Lb)),c!==Y?(d=O(),d!==Y?(f=E(),f!==Y?(id=b,c=Qb(f),b=c):(hd=b,b=Y)):(hd=b,b=Y)):(hd=b,b=Y)),b}function F(){var b,c,d,f;if(b=hd,34===a.charCodeAt(hd)?(c=Rb,hd++):(c=Y,0===md&&e(Sb)),c!==Y){for(d=[],Tb.test(a.charAt(hd))?(f=a.charAt(hd),hd++):(f=Y,0===md&&e(Ub));f!==Y;)d.push(f),Tb.test(a.charAt(hd))?(f=a.charAt(hd),hd++):(f=Y,0===md&&e(Ub));d!==Y?(34===a.charCodeAt(hd)?(f=Rb,hd++):(f=Y,0===md&&e(Sb)),f!==Y?(id=b,c=Vb(d),b=c):(hd=b,b=Y)):(hd=b,b=Y)}else hd=b,b=Y;if(b===Y)if(b=hd,39===a.charCodeAt(hd)?(c=Wb,hd++):(c=Y,0===md&&e(Xb)),c!==Y){for(d=[],Yb.test(a.charAt(hd))?(f=a.charAt(hd),hd++):(f=Y,0===md&&e(Zb));f!==Y;)d.push(f),Yb.test(a.charAt(hd))?(f=a.charAt(hd),hd++):(f=Y,0===md&&e(Zb));d!==Y?(39===a.charCodeAt(hd)?(f=Wb,hd++):(f=Y,0===md&&e(Xb)),f!==Y?(id=b,c=Vb(d),b=c):(hd=b,b=Y)):(hd=b,b=Y)}else hd=b,b=Y;return b}function G(){var b,c,d,f,g;return b=hd,c=H(),c!==Y?(d=hd,46===a.charCodeAt(hd)?(f=ab,hd++):(f=Y,0===md&&e(bb)),f!==Y?(g=H(),g===Y&&(g=null),g!==Y?(f=[f,g],d=f):(hd=d,d=Y)):(hd=d,d=Y),d===Y&&(d=null),d!==Y?(id=b,c=$b(c,d),b=c):(hd=b,b=Y)):(hd=b,b=Y),b===Y&&(b=hd,46===a.charCodeAt(hd)?(c=ab,hd++):(c=Y,0===md&&e(bb)),c!==Y?(d=H(),d!==Y?(id=b,c=_b(d),b=c):(hd=b,b=Y)):(hd=b,b=Y)),b}function H(){var b,c,d;if(b=hd,c=[],ac.test(a.charAt(hd))?(d=a.charAt(hd),hd++):(d=Y,0===md&&e(bc)),d!==Y)for(;d!==Y;)c.push(d),ac.test(a.charAt(hd))?(d=a.charAt(hd),hd++):(d=Y,0===md&&e(bc));else c=Y;return c!==Y&&(id=b,c=cc(c)),b=c}function I(){var b;return 42===a.charCodeAt(hd)?(b=dc,hd++):(b=Y,0===md&&e(ec)),b}function J(){var a,b,c;return a=hd,b=P(),b!==Y?(id=hd,c=fc(b),c=c?void 0:Y,c!==Y?(id=a,b=gc(b),a=b):(hd=a,a=Y)):(hd=a,a=Y),a}function K(){var b,c,d;return b=hd,36===a.charCodeAt(hd)?(c=hc,hd++):(c=Y,0===md&&e(ic)),c!==Y?(d=P(),d!==Y?(id=b,c=jc(d),b=c):(hd=b,b=Y)):(hd=b,b=Y),b}function L(){var b,c,d,f;return b=hd,42===a.charCodeAt(hd)?(c=dc,hd++):(c=Y,0===md&&e(ec)),c!==Y&&(id=b,c=kc()),b=c,b===Y&&(b=hd,c=S(),c!==Y?(58===a.charCodeAt(hd)?(d=lc,hd++):(d=Y,0===md&&e(mc)),d!==Y?(42===a.charCodeAt(hd)?(f=dc,hd++):(f=Y,0===md&&e(ec)),f!==Y?(id=b,c=nc(c),b=c):(hd=b,b=Y)):(hd=b,b=Y)):(hd=b,b=Y),b===Y&&(b=hd,c=P(),c!==Y&&(id=b,c=oc(c)),b=c)),b}function M(){var b;return a.substr(hd,7)===pc?(b=pc,hd+=7):(b=Y,0===md&&e(qc)),b===Y&&(a.substr(hd,4)===rc?(b=rc,hd+=4):(b=Y,0===md&&e(sc)),b===Y&&(a.substr(hd,22)===Qa?(b=Qa,hd+=22):(b=Y,0===md&&e(Ra)),b===Y&&(a.substr(hd,4)===tc?(b=tc,hd+=4):(b=Y,0===md&&e(uc))))),b}function N(){var b,c;if(b=[],vc.test(a.charAt(hd))?(c=a.charAt(hd),hd++):(c=Y,0===md&&e(wc)),c!==Y)for(;c!==Y;)b.push(c),vc.test(a.charAt(hd))?(c=a.charAt(hd),hd++):(c=Y,0===md&&e(wc));else b=Y;return b}function O(){var a;return a=N(),a===Y&&(a=null),a}function P(){var a,b;return a=hd,b=Q(),b===Y&&(b=R()),b!==Y&&(id=a,b=xc(b)),a=b}function Q(){var b,c,d,f;return b=hd,c=S(),c!==Y?(58===a.charCodeAt(hd)?(d=lc,hd++):(d=Y,0===md&&e(mc)),d!==Y?(f=S(),f!==Y?(id=b,c=yc(c,f),b=c):(hd=b,b=Y)):(hd=b,b=Y)):(hd=b,b=Y),b}function R(){var a,b;return a=hd,b=S(),b!==Y&&(id=a,b=zc(b)),a=b}function S(){var a;return a=V()}function T(){var b;return Ac.test(a.charAt(hd))?(b=a.charAt(hd),hd++):(b=Y,0===md&&e(Bc)),b===Y&&(95===a.charCodeAt(hd)?(b=Cc,hd++):(b=Y,0===md&&e(Dc)),b===Y&&(Ec.test(a.charAt(hd))?(b=a.charAt(hd),hd++):(b=Y,0===md&&e(Fc)),b===Y&&(Gc.test(a.charAt(hd))?(b=a.charAt(hd),hd++):(b=Y,0===md&&e(Hc)),b===Y&&(Ic.test(a.charAt(hd))?(b=a.charAt(hd),hd++):(b=Y,0===md&&e(Jc)),b===Y&&(Kc.test(a.charAt(hd))?(b=a.charAt(hd),hd++):(b=Y,0===md&&e(Lc)),b===Y&&(Mc.test(a.charAt(hd))?(b=a.charAt(hd),hd++):(b=Y,0===md&&e(Nc)),b===Y&&(Oc.test(a.charAt(hd))?(b=a.charAt(hd),hd++):(b=Y,0===md&&e(Pc)),b===Y&&(Qc.test(a.charAt(hd))?(b=a.charAt(hd),hd++):(b=Y,0===md&&e(Rc)),b===Y&&(Sc.test(a.charAt(hd))?(b=a.charAt(hd),hd++):(b=Y,0===md&&e(Tc)),b===Y&&(Uc.test(a.charAt(hd))?(b=a.charAt(hd),hd++):(b=Y,0===md&&e(Vc)),b===Y&&(Wc.test(a.charAt(hd))?(b=a.charAt(hd),hd++):(b=Y,0===md&&e(Xc)),b===Y&&(Yc.test(a.charAt(hd))?(b=a.charAt(hd),hd++):(b=Y,0===md&&e(Zc)),b===Y&&($c.test(a.charAt(hd))?(b=a.charAt(hd),hd++):(b=Y,0===md&&e(_c))))))))))))))),b}function U(){var b;return b=T(),b===Y&&(45===a.charCodeAt(hd)?(b=Kb,hd++):(b=Y,0===md&&e(Lb)),b===Y&&(46===a.charCodeAt(hd)?(b=ab,hd++):(b=Y,0===md&&e(bb)),b===Y&&(ac.test(a.charAt(hd))?(b=a.charAt(hd),hd++):(b=Y,0===md&&e(bc)),b===Y&&(ad.test(a.charAt(hd))?(b=a.charAt(hd),hd++):(b=Y,0===md&&e(bd)),b===Y&&(cd.test(a.charAt(hd))?(b=a.charAt(hd),hd++):(b=Y,0===md&&e(dd)),b===Y&&(ed.test(a.charAt(hd))?(b=a.charAt(hd),hd++):(b=Y,0===md&&e(fd)))))))),b}function V(){var a,b,c,d;if(a=hd,b=T(),b!==Y){for(c=[],d=U();d!==Y;)c.push(d),d=U();c!==Y?(id=a,b=gd(b,c),a=b):(hd=a,a=Y)}else hd=a,a=Y;return a}var W,X=arguments.length>1?arguments[1]:{},Y={},Z={XPath:g},$=g,_=function(a){return{tree:a,nsPrefixes:qd}},aa="/",ba={type:"literal",value:"/",description:'"/"'},ca=function(a){return{type:"/",args:[null,a?a[1]:null]}},da="//",ea={type:"literal",value:"//",description:'"//"'},fa=function(a,b){var c;for(c=0;c<b.length;c++)a=td(b[c][1],a,b[c][3]);return a},ga=function(a,b,c){return pd({type:"step",args:[a,b]},a,c,1)},ha="::",ia={type:"literal",value:"::",description:'"::"'},ja=function(a){return a},ka=function(a){return a.length?a:"child"},la="ancestor-or-self",ma={type:"literal",value:"ancestor-or-self",description:'"ancestor-or-self"'},na="ancestor",oa={type:"literal",value:"ancestor",description:'"ancestor"'},pa="attribute",qa={type:"literal",value:"attribute",description:'"attribute"'},ra="child",sa={type:"literal",value:"child",description:'"child"'},ta="descendant-or-self",ua={type:"literal",value:"descendant-or-self",description:'"descendant-or-self"'},va="descendant",wa={type:"literal",value:"descendant",description:'"descendant"'},xa="following-sibling",ya={type:"literal",value:"following-sibling",description:'"following-sibling"'},za="following",Aa={type:"literal",value:"following",description:'"following"'},Ba="namespace",Ca={type:"literal",value:"namespace",description:'"namespace"'},Da="parent",Ea={type:"literal",value:"parent",description:'"parent"'},Fa="preceding-sibling",Ga={type:"literal",value:"preceding-sibling",description:'"preceding-sibling"'},Ha="preceding",Ia={type:"literal",value:"preceding",description:'"preceding"'},Ja="self",Ka={type:"literal",value:"self",description:'"self"'},La="(",Ma={type:"literal",value:"(",description:'"("'},Na=")",Oa={type:"literal",value:")",description:'")"'},Pa=function(a){return{type:"nodeType",args:[a,[]]}},Qa="processing-instruction",Ra={type:"literal",value:"processing-instruction",description:'"processing-instruction"'},Sa=function(a,b){return{type:"nodeType",args:[a,[b]]}},Ta=function(a){return a},Ua="[",Va={type:"literal",value:"[",description:'"["'},Wa="]",Xa={type:"literal",value:"]",description:'"]"'},Ya=function(a){return a},Za=function(a){return td("//",null,a)},$a="..",_a={type:"literal",value:"..",description:'".."'},ab=".",bb={type:"literal",value:".",description:'"."'},cb=function(a){var b={type:"step",args:["self",{type:"nodeType",args:["node",[]]}]};return".."==a&&(b.args[0]="parent"),b},db="@",eb={type:"literal",value:"@",description:'"@"'},fb=function(a){return a?"attribute":""},gb=function(a){return a},hb=function(a){return a},ib=function(a){return a},jb=",",kb={type:"literal",value:",",description:'","'},lb=function(a,b){var c,d=[];if(b)for(d.push(b[1]),c=0;c<b[2].length;c++)d.push(b[2][c][3]);return{type:"function",args:[a,d]}},mb="|",nb={type:"literal",value:"|",description:'"|"'},ob=function(a,b){return od(a,b,1,3)},pb=function(a,b){return b?td(b[1],a,b[3]):a},qb=function(a){return a},rb=function(a,b){return pd(a,"child",b,1)},sb="or",tb={type:"literal",value:"or",description:'"or"'},ub="and",vb={type:"literal",value:"and",description:'"and"'},wb="=",xb={type:"literal",value:"=",description:'"="'},yb="!=",zb={type:"literal",value:"!=",description:'"!="'},Ab="<=",Bb={type:"literal",value:"<=",description:'"<="'},Cb="<",Db={type:"literal",value:"<",description:'"<"'},Eb=">=",Fb={type:"literal",value:">=",description:'">="'},Gb=">",Hb={type:"literal",value:">",description:'">"'},Ib="+",Jb={type:"literal",value:"+",description:'"+"'},Kb="-",Lb={type:"literal",value:"-",description:'"-"'},Mb="div",Nb={type:"literal",value:"div",description:'"div"'},Ob="mod",Pb={type:"literal",value:"mod",description:'"mod"'},Qb=function(a){return{type:"*",args:[{type:"number",args:[-1]},a]}},Rb='"',Sb={type:"literal",value:'"',description:'"\\""'},Tb=/^[^"]/,Ub={type:"class",value:'[^"]',description:'[^"]'},Vb=function(a){return{type:"string",args:[a.join("")]}},Wb="'",Xb={type:"literal",value:"'",description:'"\'"'},Yb=/^[^']/,Zb={type:"class",value:"[^']",description:"[^']"},$b=function(a,b){return{type:"number",args:[b?parseFloat(a+"."+b[1]):parseInt(a)]}},_b=function(a){return{type:"number",args:[parseFloat("."+a)]}},ac=/^[0-9]/,bc={type:"class",value:"[0-9]",description:"[0-9]"},cc=function(a){return a.join("")},dc="*",ec={type:"literal",value:"*",description:'"*"'},fc=function(a){var b;if(null===nd.args[0])for(b=0;b<sd.length;b++)if(nd.args[1]==sd[b])return!1;return!0},gc=function(a){return""===a.args[0]?a={type:a.type,args:[null,a.args[1]]}:rd(a.args[0]),a},hc="$",ic={type:"literal",value:"$",description:'"$"'},jc=function(a){return rd(a.args[0]),{type:"$",args:[a]}},kc=function(){return{type:"name",args:[null,null]}},lc=":",mc={type:"literal",value:":",description:'":"'},nc=function(a){return rd(a),{type:"name",args:[a,null]}},oc=function(a){return rd(a.args[0]),a},pc="comment",qc={type:"literal",value:"comment",description:'"comment"'},rc="text",sc={type:"literal",value:"text",description:'"text"'},tc="node",uc={type:"literal",value:"node",description:'"node"'},vc=/^[ \t\r\n]/,wc={type:"class",value:"[\\u0020\\u0009\\u000D\\u000A]",description:"[\\u0020\\u0009\\u000D\\u000A]"},xc=function(a){return nd=a,a},yc=function(a,b){return{type:"name",args:[a,b]}},zc=function(a){return{type:"name",args:[null,a]}},Ac=/^[A-Z]/,Bc={type:"class",value:"[A-Z]",description:"[A-Z]"},Cc="_",Dc={type:"literal",value:"_",description:'"_"'},Ec=/^[a-z]/,Fc={type:"class",value:"[a-z]",description:"[a-z]"},Gc=/^[\xC0-\xD6]/,Hc={type:"class",value:"[\\u00C0-\\u00D6]",description:"[\\u00C0-\\u00D6]"},Ic=/^[\xD8-\xF6]/,Jc={type:"class",value:"[\\u00D8-\\u00F6]",description:"[\\u00D8-\\u00F6]"},Kc=/^[\xF8-\u02FF]/,Lc={type:"class",value:"[\\u00F8-\\u02FF]",description:"[\\u00F8-\\u02FF]"},Mc=/^[\u0370-\u037D]/,Nc={type:"class",value:"[\\u0370-\\u037D]",description:"[\\u0370-\\u037D]"},Oc=/^[\u037F-\u1FFF]/,Pc={type:"class",value:"[\\u037F-\\u1FFF]",description:"[\\u037F-\\u1FFF]"},Qc=/^[\u200C-\u200D]/,Rc={type:"class",value:"[\\u200C-\\u200D]",description:"[\\u200C-\\u200D]"},Sc=/^[\u2070-\u218F]/,Tc={type:"class",value:"[\\u2070-\\u218F]",description:"[\\u2070-\\u218F]"},Uc=/^[\u2C00-\u2FEF]/,Vc={type:"class",value:"[\\u2C00-\\u2FEF]",description:"[\\u2C00-\\u2FEF]"},Wc=/^[\u3001-\uD7FF]/,Xc={type:"class",value:"[\\u3001-\\uD7FF]",description:"[\\u3001-\\uD7FF]"},Yc=/^[\uF900-\uFDCF]/,Zc={type:"class",value:"[\\uF900-\\uFDCF]",description:"[\\uF900-\\uFDCF]"},$c=/^[\uFDF0-\uFFFD]/,_c={type:"class",value:"[\\uFDF0-\\uFFFD]",description:"[\\uFDF0-\\uFFFD]"},ad=/^[\xB7]/,bd={type:"class",value:"[\\u00B7]",description:"[\\u00B7]"},cd=/^[\u0300-\u036F]/,dd={type:"class",value:"[\\u0300-\\u036F]",description:"[\\u0300-\\u036F]"},ed=/^[\u203F-\u2040]/,fd={type:"class",value:"[\\u203F-\\u2040]",description:"[\\u203F-\\u2040]"},gd=function(a,b){return a+b.join("")},hd=0,id=0,jd=[{line:1,column:1,seenCR:!1}],kd=0,ld=[],md=0;if("startRule"in X){if(!(X.startRule in Z))throw new Error("Can't start parsing from rule \""+X.startRule+'".');$=Z[X.startRule]}var nd,od=function(a,b,c,d){var e,f,g={type:"",args:[]};for(g.args.push(a),e=0;e<b.length;e++){switch(typeof c){case"string":g.type=c;break;case"object":for(g.type=b[e][c[0]],f=1;f<c.length;f++)g.type=g.type[c[f]];break;default:g.type=b[e][c]}g.args.push("undefined"==typeof d?b[e]:b[e][d]),g={type:"",args:[g]}}return g.args[0]},pd=function(a,b,c,d){var e,f=[];if(c.length<1)return a;for(e=0;e<c.length;e++)f.push(c[e][d]);return{type:"predicate",args:[b,a,f]}},qd=[],rd=function(a){var b,c=!1;if(null!==a){for(b=0;b<qd.length;b++)if(qd[b]===a){c=!0;break}c||qd.push(a)}},sd=["comment","text","processing-instruction","node"],td=function(a,b,c){return"/"==a?{type:"/",args:[b,c]}:{type:"/",args:[{type:"/",args:[b,{type:"step",args:["descendant-or-self",{type:"nodeType",args:["node",[]]}]}]},c]}};if(W=$(),W!==Y&&hd===a.length)return W;throw W!==Y&&hd<a.length&&e({type:"end",description:"end of input"}),f(null,ld,kd<a.length?a.charAt(kd):null,kd<a.length?d(kd,kd+1):d(kd,kd))}return a(b,Error),{SyntaxError:b,parse:c}}();